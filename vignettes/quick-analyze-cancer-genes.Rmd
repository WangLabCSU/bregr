---
title: "Quickly Analyze Cancer Genes with Data from UCSCXenaShiny"
author: 
  - name: Shixiang Wang
    affiliation: Central South University
    email: wangshx@csu.edu.cn
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Quickly Analyze Cancer Genes with Data from UCSCXenaShiny}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  out.width = "100%"
)
```

```{r setup}
library(bregr)

if (!requireNamespace("UCSCXenaShiny")) {
  install.packages("UCSCXenaShiny")
}
library(UCSCXenaShiny)
```

[**UCSCXenaShiny**](https://openbiox.github.io/UCSCXenaShiny/reference) offers extensive cancer datasets and data query functions to facilitate analysis and visualization.

## Obtain Data

Using `tcga_surv_get()`, you can efficiently retrieve values for a specified gene (`c("mRNA", "miRNA", "methylation", "transcript", "protein", "mutation", "cnv")`) from the TCGA cohort.

```{r}
data = tcga_surv_get("BRCA1", TCGA_cohort = "BRCA") |> 
  dplyr::rename(Gene = value)
head(data)
```

## **Execute bregr Pipeline**

```{r}
m = br_pipeline(
  data = data,
  y = c("OS.time", "OS"),
  x = "Gene",
  method = "coxph"
)
m
```

```{r}
br_get_results(m, tidy = TRUE)
```

## **Generate Visualizations**

For example:

```{r fig.dpi=300}
br_show_forest_ggstatsplot(m)
```

## **Explore Further**

For more comprehensive guidance on querying various omics data from different databases/cohorts, refer to the [Molecular Data Query](https://lishensuo.github.io/UCSCXenaShiny_Book/data-query.html) section of the **UCSCXenaShiny** tutorial book.

